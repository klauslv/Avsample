#1ã€æŒ‡å®šcmakeçš„æœ€å°ç‰ˆæœ¬
cmake_minimum_required(VERSION 3.4.1)

#æ‰“å°æ—¥å¿—
message("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA>>>")
message("å½“å‰CMakeçš„è·¯å¾„æ˜¯ï¼š${CMAKE_SOURCE_DIR}")
message("å½“å‰ CMAKE_ANDROID_ARCH_ABI çš„è·¯å¾„æ˜¯ï¼š${CMAKE_ANDROID_ARCH_ABI}")

#æ‰¹é‡å¼•å…¥æºæ–‡ä»¶
file(GLOB allCpp *.cpp)

#åŠ å…¥cppåŸæ–‡ä»¶
add_library(
        #åº“çš„åå­—
        native-lib
        #å¯ä»¥å…±äº«
        SHARED
        #native-lib.cppæ›¿æ¢${allCpp}æ‰¹é‡å¯¼å…¥æ–‡ä»¶

        ${allCpp}
)
# å¯¼å…¥é™æ€åº“
#add_library(test_a STATIC IMPORTED)
#å¼€å§‹çœŸæ­£çš„å¯¼å…¥
#set_target_properties(test_a PROPERTIES IMPORTED_LOCATION ${CMAKE_SOURCE_DIR}/libtest.a)

#å¯¼å…¥åŠ¨æ€åº“
add_library(test_so SHARED IMPORTED)
#æ—©å…ˆçš„CMake ANDROID_ABI == å½“å‰COUå¹³å°
set_target_properties(test_so PROPERTIES IMPORTED_LOCATION ${CMAKE_SOURCE_DIR}/../jniLibs/${CMAKE_ANDROID_ARCH_ABI}/libTest.so)

# åªèƒ½æ‰¾ç³»ç»Ÿçš„
find_library(
        log-lib
        log)

message("å½“å‰çš„logè·¯å¾„åœ¨å“ªé‡Œå•Š >>>>>>>>> ${log-lib}")

#å¼€å§‹é“¾æ¥ğŸ”çš„åº“
target_link_libraries(
        native-lib
        ${log-lib}
        test_so
)